nodes:
  FilterN26:
    '?': Filter transactions for the N26 account
    editor:
      col: 2
      row: 0
    in:
      data: 'cocoon://ReadYNAB/out/transactions'
      f: x => x.account_name === 'N26'
    type: Filter
  DateToTimestamp:
    editor:
      col: 3
      row: 0
    in:
      data: 'cocoon://FilterN26/out/data'
      f: |
        x => ({
          ...x,
          dateTS: new Date(x.date).getTime()
        })
    type: Map
  ReadConfig:
    editor:
      col: 0
      row: 0
    in:
      uri: ~/.cocoon-ynab.json
    type: ReadJSON
  ReadN26:
    editor:
      col: 1
      row: 1
    in:
      config: 'cocoon://ReadConfig/out/data'
    persist: true
    type: ReadN26
  ReadYNAB:
    editor:
      col: 1
      row: 0
    in:
      budget: TeamTurtle
      config: 'cocoon://ReadConfig/out/data'
    persist: true
    type: ReadYNAB
